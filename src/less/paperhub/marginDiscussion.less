.ph-margin-discussion {
  position: absolute;
  width: 100%;

  .panel > .panel-heading {
    .clearfix();

    > .ph-avatar {
      float: left;
      padding: 5px;
      width: 30px; // must match the img size
    }

    > .ph-header-container {
      position: relative;
      margin-left: 37px;
      overflow-x: hidden;

      > .ph-author-details {
        padding: 3px 5px;
        padding-left: 13px;
        position: absolute;
        width: 100%;
        height: 100%;
        left: -100%;
        background-color: @panel-default-heading-bg;
        transition: left 0.5s ease;
        &.ph-active {
          left: 0;
        }
      }

      @ph-margin-discussion-bg: lighten(@panel-default-heading-bg, 5%);
      > .ph-discussion-details-container {
        .clearfix();
        transition: left 0.5s ease;
        position: relative;
        left: 0;
        &.ph-inactive {
          left: 100%;
        }

        @ph-panel-heading-arrow-size: 8px;
        > .ph-arrow-container {
          .ph-arrow-container(
            @ph-panel-heading-arrow-size,
            @ph-margin-discussion-bg,
            @panel-default-border
          );
          float: left;
          height: 40px;
          margin-left: (@ph-panel-heading-arrow-size + 1);
        }

        > .ph-discussion-details {
          margin-left: @ph-panel-heading-arrow-size;
          border-left: 1px @panel-default-border solid;
          padding: 0px 5px;
          min-height: 40px;
          background-color: @ph-margin-discussion-bg;

          > .ph-time {
            .text-muted();
            .ph-no-margin();
            font-size: smaller;
          }
        }

      }
    }

  }
}

margin-discussion, margin-discussion-draft {
  .ph-margin-discussion();
  > .panel {
    .ph-no-border-bottom();
    .ph-no-margin();
    > .panel-heading {
      .ph-no-padding();
      border-bottom: 1px @panel-default-border solid;
    }
    > .panel-body {
      .ph-sm-padding();
      border-bottom: 1px @panel-default-border solid;
    }

  }
}

margin-discussion {
  box-shadow: 0px 0px 15px #888888;
  transition: top 0.5s ease;
}

margin-discussion-draft {
  box-shadow: 0px 0px 25px #888888;
  transition: opacity 0.25s 0.25s ease;
  &.ng-enter, &.ng-leave.ng-leave-active {
    opacity: 0;
  }
  &.ng-enter.ng-enter-active, &.ng-leave {
    opacity: 1;
  }
  &.ng-leave {
    transition-delay: 0;
  }
}
