<div class="ph-margin-container">
  <!-- original comment -->
  <div class="ph-margin-row ph-margin-row-avatar">
    <!-- avatar -->
    <img gravatar-user="discussion.originalAnnotation.author"
      gravatar-size="30" class="ph-margin-avatar img-circle">
    <!-- arrow -->
    <div class="ph-margin-row-arrow-container">
      <div class="ph-arrow ph-arrow-outward-left"></div>
    </div>
    <!-- row content -->
    <div class="ph-margin-row-content clearfix">
      <p class="ph-discussion-info pull-right">
        <span am-time-ago="discussion.originalAnnotation.createdAt"></span>
      </p>
      <h4 class="ph-no-margin">{{discussion.originalAnnotation.title}}</h4>
      <div ng-if="discussion.originalAnnotation.body">
        {{discussion.originalAnnotation.body}}
      </div>
    </div>
  </div>
  <div class="ph-margin-row ph-margin-row-border-top">
    <button class="btn btn-default btn-block ph-no-padding ph-no-border">
      <span ng-if="!discussion.replies.length">
        <i class="fa fa-fw fa-comment"></i> reply to this comment...
      </span>
      <span ng-if="discussion.replies.length === 1">
        <i class="fa fa-fw fa-comment"></i> show 1 reply
      </span>
      <span ng-if="discussion.replies.length > 1">
        <i class="fa fa-fw fa-comments"></i>
        show {{discussion.replies.length}} replies
      </span>
    </button>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading" ng-mouseleave="showAuthorDetails = false">

    <div class="ph-avatar" ng-mouseenter="showAuthorDetails = true">
      <img gravatar-user="discussion.originalAnnotation.author"
        gravatar-size="30">
    </div>
    <div class="ph-header-container">
      <!-- author details are hidden by default -->
      <div class="ph-author-details"
          ng-class="{'ph-active': showAuthorDetails}">
        <h5 class="ph-no-margin">{{discussion.originalAnnotation.author.displayName}}</h5>
        <a href="#/users/{{discussion.originalAnnotation.author.username}}">
          @{{discussion.originalAnnotation.author.username}}</a>
      </div>
      <div class="ph-discussion-details-container"
          ng-class="{'ph-inactive': showAuthorDetails}">
        <div class="ph-arrow-container">
          <div class="ph-arrow ph-arrow-outward-left"></div>
        </div>
        <div class="ph-discussion-details">
          <p class="ph-discussion-info">
            <span am-time-ago="discussion.originalAnnotation.createdAt"></span>
            <span ng-if="discussion.replies.length === 1">
              ⋅ <i class="fa fa-fw fa-comment"></i> 1 reply
            </span>
            <span ng-if="discussion.replies.length > 1">
              ⋅ <i class="fa fa-fw fa-comments"></i>
              {{discussion.replies.length}} replies
            </span>
          </p>
          <h4 class="ph-no-margin">{{discussion.originalAnnotation.title}}</h4>
        </div>
      </div>
    </div>
  </div>
  <div class="panel-body" ng-if="discussion.originalAnnotation.body">
    {{discussion.originalAnnotation.body}}
  </div>
  <div class="panel-body" ng-if="discussion.replies.lenth">
    {{discussion.originalAnnotation.body}}
  </div>
</div>
